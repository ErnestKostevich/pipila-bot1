services:
  - type: web
    name: pipila-bot
    env: python
    plan: free
    region: frankfurt
    buildCommand: |
      pip install -r requirements_pipila.txt
      chmod +x download_docs.sh
      bash download_docs.sh
    startCommand: python pipila_bot.py
    envVars:
      - key: BOT_TOKEN
        sync: false
      - key: GEMINI_API_KEY
        sync: false
      - key: DATABASE_URL
        fromDatabase:
          name: pipila_db
          property: connectionString

databases:
  - name: pipila_db
    databaseName: pipila
    user: pipila_user
```

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ:** `startCommand: python pipila_bot.py` ‚Üê –¥–æ–±–∞–≤–ª–µ–Ω–æ `python`

---

## ‚úÖ **–®–ê–ì 2: –î–µ–ø–ª–æ–π**

–ü–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞:

1. Render **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –∑–∞–¥–µ–ø–ª–æ–∏—Ç
2. –ò–ª–∏ –∑–∞–π–¥–∏ –≤ Render ‚Üí **"Manual Deploy"**

---

## üìä **–ß–¢–û –î–û–õ–ñ–ù–û –ë–´–¢–¨ –í –õ–û–ì–ê–•:**
```
==> Running: python pipila_bot.py

üìö Cargando documentos...
‚úÖ Cargado: file1.pdf (15 chunks)
‚úÖ Cargado: file2.pdf (10 chunks)
...
‚úÖ 150 documentos cargados

‚úÖ Gemini 2.0 Flash configurado para PIPILA
‚úÖ ChromaDB inicializado: 1500 documentos
‚úÖ PostgreSQL conectado
============================================================
‚úÖ PIPILA - Asistente Financiero Oscar Casco
ü§ñ AI: Gemini 2.0 Flash + RAG (ChromaDB)
üìö Documentos: 150
üóÑÔ∏è DB: PostgreSQL ‚úì
============================================================
```

---

## üí° **–ü–†–û –ö–û–ú–ê–ù–î–£ –û–°–ö–ê–†–ê:**

–î–∞, –±–æ—Ç –¥–ª—è **–≤—Å–µ–π –∫–æ–º–∞–Ω–¥—ã**! –í–æ—Ç –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —á–ª–µ–Ω–æ–≤ –∫–æ–º–∞–Ω–¥—ã:**

1. **–û—Å–∫–∞—Ä** –∏–ª–∏ —á–ª–µ–Ω –∫–æ–º–∞–Ω–¥—ã –ø–∏—à–µ—Ç –±–æ—Ç—É `/start`
2. **–¢—ã** (–∫–∞–∫ —Å–æ–∑–¥–∞—Ç–µ–ª—å) –ø–∏—à–µ—à—å –±–æ—Ç—É:
```
   /grant_team [user_id]
```
3. **–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å —É –Ω–∏—Ö –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫–æ–º–∞–Ω–¥–µ

### **–ö–∞–∫ —É–∑–Ω–∞—Ç—å user_id:**

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ –ª–æ–≥–∏ Render**
```
2025-11-25 20:15:30 INFO - Creator identificado: 123456789
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ –±–æ—Ç–∞ @userinfobot**
1. –ß–ª–µ–Ω –∫–æ–º–∞–Ω–¥—ã –ø–∏—à–µ—Ç @userinfobot
2. –ü–æ–ª—É—á–∞–µ—Ç —Å–≤–æ–π ID
3. –°–∫–∏–¥—ã–≤–∞–µ—Ç —Ç–µ–±–µ
4. –¢—ã –¥–µ–ª–∞–µ—à—å `/grant_team [ID]`

---

## üéØ **–ö–û–ú–ê–ù–î–´ –î–õ–Ø –ö–û–ú–ê–ù–î–´:**

–ü–æ—Å–ª–µ `/grant_team` —á–ª–µ–Ω—ã –∫–æ–º–∞–Ω–¥—ã –ø–æ–ª—É—á–∞—é—Ç:

‚úÖ **–î–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º:**
- `/search` - –ø–æ–∏—Å–∫ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö
- `/docs` - —Å–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- `/reload` - –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –ü—Ä—è–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã (–±–µ–∑ –∫–æ–º–∞–Ω–¥)

‚úÖ **–í –ª–æ–≥–∞—Ö –±—É–¥–µ—Ç:**
```
üìà Equipo:
- Usuarios: 5
```

---

## üìã **–ö–†–ê–¢–ö–ò–ô –ß–ï–ö-–õ–ò–°–¢:**
```
1. –ò—Å–ø—Ä–∞–≤—å render.yaml (–¥–æ–±–∞–≤—å python)
2. Commit
3. Render –∑–∞–¥–µ–ø–ª–æ–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
4. –ß–µ—Ä–µ–∑ 15 –º–∏–Ω—É—Ç –ø—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏
5. –¢–µ—Å—Ç–∏—Ä—É–π: /start, /docs
6. –î–æ–±–∞–≤–ª—è–π –∫–æ–º–∞–Ω–¥—É: /grant_team [ID]
